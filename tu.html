<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Birthday Surprise</title>
  <style>
    body {
      background: pink;
      display: flex;
      justify-content: center;
      flex-direction: column;
      align-items: center;
      height: 100vh;
      margin: 0;
      font-family: Arial, sans-serif;
      overflow: hidden;
    }

    .page {
      display: none;
      text-align: center;
    }
    .page.active {
      display: block;
    }

    .envelope img, .page img {
      max-width: 70%;
      border-radius: 12px;
      box-shadow: 0 6px 20px rgba(0,0,0,0.3);
    }

    .buttons {
      margin-top: 20px;
    }

    button {
      padding: 10px 20px;
      margin: 0 10px;
      border: 2px solid #ff4d6d;
      background: white;
      color: #ff4d6d;
      border-radius: 6px;
      cursor: pointer;
      font-weight: bold;
      transition: 0.3s;
    }

    button:hover {
      background: #ff4d6d;
      color: white;
    }

    canvas {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 999;
    }
  </style>
</head>
<body>

  <!-- Page 1 -->
  <div id="page1" class="page active">
    <div class="envelope">
      <img src="https://i.postimg.cc/nrh7ffQ4/Love-note.jpg" alt="Envelope">
    </div>
    <div class="buttons">
      <button onclick="goToPage(2)">Open</button>
      <button onclick="toggleMusic()" id="musicBtn">üéµ Play Music</button>
    </div>
  </div>

  <!-- Page 2 -->
  <div id="page2" class="page">
    <canvas id="fireworks2"></canvas>
    <img src="https://i.postimg.cc/RFbZwZ7C/Happy-Birthday-May-your-day-be-filled-with-love-smiles-and-endless-happiness-Wishing-you-all.png" alt="Birthday Message">
    <div class="buttons">
      <button onclick="goToPage(3)">Next ‚û°Ô∏è</button>
    </div>
  </div>

  <!-- Page 3 -->
  <div id="page3" class="page">
    <canvas id="fireworks3"></canvas>
    <div style="text-align:center; padding:50px; position:relative; z-index:1000;">
      <img src="https://i.postimg.cc/wvVRszv0/janam-din-bhot-bhot-mubarak-ho.png" alt="Special Photo">
    </div>
  </div>

  <!-- Audio -->
  <audio id="bg-music" loop>
    <source src="https://files.catbox.moe/9pr1v7.mp3" type="audio/mpeg">
    Your browser does not support audio.
  </audio>

  <script>
    function goToPage(num) {
      document.querySelectorAll(".page").forEach(p => p.classList.remove("active"));
      document.getElementById("page" + num).classList.add("active");

      if (num === 2) startFireworks("fireworks2");
      if (num === 3) startFireworks("fireworks3");
    }

    function toggleMusic() {
      const music = document.getElementById("bg-music");
      const btn = document.getElementById("musicBtn");

      if (music.paused) {
        music.play();
        btn.textContent = "‚èπ Stop Music";
      } else {
        music.pause();
        btn.textContent = "üéµ Play Music";
      }
    }

    function startFireworks(canvasId) {
      const canvas = document.getElementById(canvasId);
      const ctx = canvas.getContext('2d');
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;

      const fireworks = [];

      class Firework {
        constructor(x, y, colors) {
          this.x = x;
          this.y = y;
          this.colors = colors;
          this.particles = [];
          for (let i = 0; i < 80; i++) {
            this.particles.push({
              x: x,
              y: y,
              angle: Math.random() * 2 * Math.PI,
              speed: Math.random() * 6 + 2,
              radius: Math.random() * 2 + 1,
              alpha: 1
            });
          }
        }
        update() {
          this.particles.forEach(p => {
            p.x += Math.cos(p.angle) * p.speed;
            p.y += Math.sin(p.angle) * p.speed;
            p.alpha -= 0.02;
          });
        }
        draw(ctx) {
          this.particles.forEach(p => {
            ctx.beginPath();
            ctx.arc(p.x, p.y, p.radius, 0, Math.PI * 2);
            ctx.fillStyle = `rgba(${this.colors},${p.alpha})`;
            ctx.fill();
          });
        }
      }

      function animate() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        fireworks.forEach((fw, i) => {
          fw.update();
          fw.draw(ctx);
          if (fw.particles.every(p => p.alpha <= 0)) {
            fireworks.splice(i, 1);
          }
        });
        requestAnimationFrame(animate);
      }

      let fireworkInterval = setInterval(() => {
        const x = Math.random() * canvas.width;
        const y = Math.random() * canvas.height / 2;
        const colors = `${Math.floor(Math.random() * 255)},${Math.floor(Math.random() * 255)},${Math.floor(Math.random() * 255)}`;
        fireworks.push(new Firework(x, y, colors));
      }, 200);

      setTimeout(() => clearInterval(fireworkInterval), 15000);
      animate();
    }
  </script>

</body>
</html>
